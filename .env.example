# Shelly Manager Environment Configuration

# Server Configuration
SHELLY_SERVER_PORT=8080
SHELLY_SERVER_HOST=0.0.0.0
SHELLY_SERVER_LOG_LEVEL=info

# Database Configuration
SHELLY_DATABASE_PATH=data/shelly.db
SHELLY_DATABASE_PROVIDER=sqlite
# For Postgres: SHELLY_DATABASE_PROVIDER=postgresql
# SHELLY_DATABASE_DSN=host=localhost user=app password=secret dbname=shelly sslmode=disable

# Discovery Configuration
SHELLY_DISCOVERY_ENABLED=true
SHELLY_DISCOVERY_NETWORKS=192.168.1.0/24,192.168.0.0/24
SHELLY_DISCOVERY_INTERVAL=300
SHELLY_DISCOVERY_TIMEOUT=5

# Provisioning Configuration
SHELLY_PROVISIONING_AUTH_ENABLED=true
SHELLY_PROVISIONING_AUTH_USER=admin
SHELLY_PROVISIONING_AUTH_PASSWORD=your-secure-password

# DHCP Configuration
SHELLY_DHCP_NETWORK=192.168.1.0/24
SHELLY_DHCP_START_IP=192.168.1.100
SHELLY_DHCP_END_IP=192.168.1.199

# OPNSense Integration
SHELLY_OPNSENSE_ENABLED=false
SHELLY_OPNSENSE_HOST=192.168.1.1
SHELLY_OPNSENSE_PORT=443
SHELLY_OPNSENSE_API_KEY=your-api-key
SHELLY_OPNSENSE_API_SECRET=your-api-secret

# Notifications (SMTP)
SHELLY_NOTIFICATIONS_EMAIL_SMTP_HOST=smtp.example.com
SHELLY_NOTIFICATIONS_EMAIL_SMTP_PORT=587
SHELLY_NOTIFICATIONS_EMAIL_SMTP_USER=mailer
SHELLY_NOTIFICATIONS_EMAIL_SMTP_PASSWORD=replace-me
SHELLY_NOTIFICATIONS_EMAIL_FROM_ADDRESS=noreply@example.com
SHELLY_NOTIFICATIONS_EMAIL_TLS=true

# Security
SHELLY_SECURITY_ADMIN_API_KEY=
SHELLY_EXPORT_OUTPUT_DIRECTORY=

# Provisioner (agent mode)
SHELLY_API_URL=http://localhost:8080
SHELLY_API_KEY=

# Default WiFi for auto-provisioning
DEFAULT_WIFI_SSID=MyHomeWiFi
DEFAULT_WIFI_PASSWORD=MySecurePassword

# _FILE support (Docker/K8s secrets)
# For sensitive values, you may set the *_FILE variant to read from a file path
# instead of putting the secret in the environment. Examples:
# SHELLY_SECURITY_ADMIN_API_KEY_FILE=/run/secrets/admin_key
# SHELLY_NOTIFICATIONS_EMAIL_SMTP_PASSWORD_FILE=/run/secrets/smtp_password
# SHELLY_OPNSENSE_API_KEY_FILE=/run/secrets/opnsense_key
# SHELLY_OPNSENSE_API_SECRET_FILE=/run/secrets/opnsense_secret

# Notes:
# - Environment variables override config file values (env > file > defaults).
# - Keys map by replacing dots with underscores (e.g., server.port -> SHELLY_SERVER_PORT).
